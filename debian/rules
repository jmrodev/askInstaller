#!/usr/bin/make -f
export DH_VERBOSE = 1

%:
	dh $@

override_dh_usrlocal:
	# Do nothing

override_dh_install:
	dh_install
	mkdir -p $(CURDIR)/debian/ask-gemini/usr/local/lib/ask_gemini
	cp $(CURDIR)/ask_gemini.py $(CURDIR)/debian/ask-gemini/usr/local/lib/ask_gemini/
	# Ensure the 'ask' wrapper script is copied to /usr/local/bin
	mkdir -p $(CURDIR)/debian/ask-gemini/usr/local/bin
	cp $(CURDIR)/ask $(CURDIR)/debian/ask-gemini/usr/local/bin/
	# The following line for dh_install -X.py might be problematic if not handled carefully,
	# as it excludes .py files from default installation paths but we're manually placing ask_gemini.py.
	# Given we are manually placing ask_gemini.py, we might not need it,
	# or it needs to be specific to avoid excluding our manually placed script.
	# For now, let's keep it as per instructions but be mindful if it causes issues.
	dh_install -X.py --sourcedir=debian/tmp || true

override_dh_installdocs:
	dh_installdocs README.md

override_dh_installman:
	dh_installman ask.1
